<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily state log</title>
</head>
<body>
    <h2> DAILY STATE LOG</h2>
<form action="{{url_for('log_state')}}" method="POST" class="state-form">


<label for="sleep_hours"> Sleep hours last night: </label>
<input
  type="number"
  id="sleep_hours"
  name="sleep_hours"
  step="0.1"
  min="0"
  max="24"
  required>

  <label for="fatigue_level">
    Fatigue level:
    <span id="fatigue_level">5</span>/10
  </label>
<input
type="range"
id="fatigue_level"
name="fatigue_level"
min="1"
max="10"
value="5"
oninput="fatigue_value.innnerText=this.value"
required
>

<button type="submit"> Save today's state</button>

</form>
<br>


<h3>Last Logged State</h3>

{% if latest_state %}
    <p><strong>Date:</strong> {{ latest_state[0] }}</p>
    <p><strong>Sleep Hours:</strong> {{ latest_state[1] }}</p>
    <p><strong>Fatigue Level:</strong> {{ latest_state[2] }}</p>
{% else %}
    <p>No data logged yet.</p>
{% endif %}

<br>
<a href="/dashboard.html"> Go back to dashboard</a>
</body>
</html>