<<<<<<< HEAD
<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
</head>
<body>
  <h2>Welcome, {{ user.name }}</h2>
  <p>Email: {{ user.email }}</p>

  <a href="/logout">Logout</a>

<h2> DAILY STATE LOG</h2>
<form action="{{url_for('log_state')}}" method="POST" class="state-form">


<label for="sleep_hours"> Sleep hours last night: </label>
<input
  type="number"
  id="sleep_hours"
  name="sleep_hours"
  step="0.1"
  min="0"
  max="24"
  required>

  <label for="fatigue_level">
    Fatigue level:
    <span id="fatigue_level">5</span>/10
  </label>
<input
type="range"
id="fatigue_level"
name="fatigue_level"
min="1"
max="10"
value="5"
oninput="fatigue_value.innnerText=this.value"
required
>

<button type="submit"> Save today's state</button>

</form>



<h3> STUDY/WORK SESSION</h3>
<div id="timer"> 00:00:00</div>
<button onclick="startSession()"> START</button>
<button onclick="stopSession()"> STOP</button>


<script>
let startTime=null;
let timeInterval=null;

function startSession(){
  fetch("/start_session", {method:"POST"});

  startTime= new Date();
  timerInterval= setInterval(updateTimer, 1000);
  // timer ticks off every 1000ms=1sec

}

function stopSession() {
    fetch("/stop_session", { method: "POST" });

    clearInterval(timerInterval);
    timerInterval = null;
}

function updateTimer() {
    const now = new Date();
    const diff = Math.floor((now - startTime) / 1000);

    const hours = String(Math.floor(diff / 3600)).padStart(2, "0");
    const minutes = String(Math.floor((diff % 3600) / 60)).padStart(2, "0");
    const seconds = String(diff % 60).padStart(2, "0");

    document.getElementById("timer").innerText =
        `${hours}:${minutes}:${seconds}`;
}


</script>

<h3>Total Study Time</h3>
<p>{{ total_study_hours | round(2) }} hours</p>




<h3>Last Logged State</h3>

{% if latest_state %}
    <p><strong>Date:</strong> {{ latest_state[0] }}</p>
    <p><strong>Sleep Hours:</strong> {{ latest_state[1] }}</p>
    <p><strong>Fatigue Level:</strong> {{ latest_state[2] }}</p>
{% else %}
    <p>No data logged yet.</p>
{% endif %}




<h3> LOG YOUR ASSIGNMENT DEADLINES USING GOOGLE CALENDAR HERE..</h3>
<form action="/sync_calendar" method="post">
<button type="submit"> click to sync with your google calendar </button>
</form>


<h2> UPCOMING DEADLINES</h2>
{% if assignments %}
    <ul>
        {% for title, deadline in assignments %}
            <li>
                {{ title }} â€” Deadline: {{ deadline }}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No assignments found.</p>
{% endif %}

<!-- <form action="/predict_load" method="get">
    <button type="submit">Predict Cognitive Load</button>
</form> -->

<h2> cognitive load</h2>
<p> {{cognitive_load}}</p>

<h2> BASED ON YOUR COGNITIVE LOAD, HERE ARE A FEW SUGGESTIONS:</h2>
        <ul>
{% for line in suggestions.split('\n') %}
  {% if line.strip() %}
    <li>{{ line.replace('*', '').strip() }}</li>
  {% endif %}
{% endfor %}
</ul>


</body>
=======
<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
</head>
<body>
  <h2>Welcome, {{ user.name }}</h2>
  <p>Email: {{ user.email }}</p>

  <a href="/logout">Logout</a>
</body>
>>>>>>> 9c15bd2489283ce4463ab9d773e86d0d0f88124b
</html>